{% extends 'base.html' %}
{%load static%}



{% block content %}
   
<div class="vh-100 container d-flex flex-column justify-content-center align-items-center mt-5 mb-5">
    <div>
        <h1 class="text-white fw-bold">Update Your Profile</h1>
    </div>
    <form action="{% url 'profile-update' request.user.profile.id %}" method="post" enctype="multipart/form-data" class="border-0 rounded-3 form-control p-0 w-50 shadow">
        {%csrf_token%}
        {{form.errors}}
        <div class="text-center bg-danger rounded-top-3 rounded-bottom-0 pb-3">
            <!-- ============Profile pic change start -->
            <label for="fileToUpload">
                <div class=" p-3">
                    {%if form.profile_pic%}
                      
                        <img class="profile-small profile-pic shadow" src="{{form.profile_pic.value.url}}" alt="Avatar" style="border-radius: 50%;
                        background-color: rgb(68, 68, 68);">
                        {%else%}
                        <img class="profile-small profile-pic shadow" src="{%static 'scrapboxapp/images/profilepic.png'%}" alt="Avatar" style="border-radius: 50%;
                        background-color: rgb(68, 68, 68);">
                       {%endif%}
                    <input type="File" name="profile_pic" id="fileToUpload" value="">

                    <span class="glyphicon glyphicon-camera"></span>
                </div>
            </label>
            <!-- ============Profile pic change end -->
            <div class="text-white tefw-bold">
                {{request.user}}
            </div>
        </div>

        <!-- <div class="mb-4">
            <label for="">New Profile Pic</label>
            <input type="file" name="profile_pic" class="form-control">
        </div> -->



        <div class="p-4">
            <div class="mb-4">
                <input type="text" name="address" value="{{form.address.value}}" class="form-control" placeholder="Address">
            </div>
            <div class="row">
                <div class="mb-4 col-md-6">
                    <input type="number" name="phone" value="{{form.phone.value}}" class="form-control" placeholder="Phone">
                </div>
                <div class="mb-4 col-md-6">
                    {{form.dob}}
                </div>
            </div>
            <div class="mb-4">
                <input type="text" name="location" value="{{form.location.value}}" class="form-control" placeholder="location">
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-danger form-control w-50">Update</button>
            </div>
        </div>
    </form>
</div>
    
{% endblock %}
